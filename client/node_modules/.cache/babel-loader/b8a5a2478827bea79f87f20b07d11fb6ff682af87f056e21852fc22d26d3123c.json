{"ast":null,"code":"// TODO(v3): This file is here for backwards compatibility, and to prevent breaking changes.\n// These APIs will be removed in v3.\nimport { getHttpRpcClient } from './http.js';\nimport { getWebSocketRpcClient } from './webSocket.js';\nfunction webSocket(socketClient, _ref) {\n  let {\n    body,\n    onError,\n    onResponse\n  } = _ref;\n  socketClient.request({\n    body,\n    onError,\n    onResponse\n  });\n  return socketClient;\n}\nasync function webSocketAsync(socketClient, _ref2) {\n  let {\n    body,\n    timeout = 10_000\n  } = _ref2;\n  return socketClient.requestAsync({\n    body,\n    timeout\n  });\n}\n/**\n * @deprecated use `getSocketClient` instead.\n *\n * ```diff\n * -import { getSocket } from 'viem/utils'\n * +import { getSocketClient } from 'viem/utils'\n *\n * -const socket = await getSocket(url)\n * +const socketClient = await getSocketClient(url)\n * +const socket = socketClient.socket\n * ```\n */\nexport async function getSocket(url) {\n  const client = await getWebSocketRpcClient(url);\n  return Object.assign(client.socket, {\n    requests: client.requests,\n    subscriptions: client.subscriptions\n  });\n}\nexport const rpc = {\n  /**\n   * @deprecated use `getHttpRpcClient` instead.\n   *\n   * ```diff\n   * -import { rpc } from 'viem/utils'\n   * +import { getHttpRpcClient } from 'viem/utils'\n   *\n   * -rpc.http(url, params)\n   * +const httpClient = getHttpRpcClient(url)\n   * +httpClient.request(params)\n   * ```\n   */\n  http(url, params) {\n    return getHttpRpcClient(url).request(params);\n  },\n  /**\n   * @deprecated use `getWebSocketRpcClient` instead.\n   *\n   * ```diff\n   * -import { rpc } from 'viem/utils'\n   * +import { getWebSocketRpcClient } from 'viem/utils'\n   *\n   * -rpc.webSocket(url, params)\n   * +const webSocketClient = getWebSocketRpcClient(url)\n   * +webSocketClient.request(params)\n   * ```\n   */\n  webSocket,\n  /**\n   * @deprecated use `getWebSocketRpcClient` instead.\n   *\n   * ```diff\n   * -import { rpc } from 'viem/utils'\n   * +import { getWebSocketRpcClient } from 'viem/utils'\n   *\n   * -const response = await rpc.webSocketAsync(url, params)\n   * +const webSocketClient = getWebSocketRpcClient(url)\n   * +const response = await webSocketClient.requestAsync(params)\n   * ```\n   */\n  webSocketAsync\n};\n/* c8 ignore end */","map":{"version":3,"names":["getHttpRpcClient","getWebSocketRpcClient","webSocket","socketClient","_ref","body","onError","onResponse","request","webSocketAsync","_ref2","timeout","requestAsync","getSocket","url","client","Object","assign","socket","requests","subscriptions","rpc","http","params"],"sources":["/Users/emmanasseri/Desktop/my-own-words/client/node_modules/viem/utils/rpc/compat.ts"],"sourcesContent":["// TODO(v3): This file is here for backwards compatibility, and to prevent breaking changes.\n// These APIs will be removed in v3.\n\n/* c8 ignore start */\nimport type {\n  TimeoutErrorType,\n  WebSocketRequestError,\n} from '../../errors/request.js'\nimport type { ErrorType } from '../../errors/utils.js'\nimport type { RpcResponse } from '../../types/rpc.js'\nimport type { WithTimeoutErrorType } from '../promise/withTimeout.js'\nimport { type HttpRequestParameters, getHttpRpcClient } from './http.js'\nimport type { SocketRpcClient } from './socket.js'\nimport { getWebSocketRpcClient } from './webSocket.js'\n\nexport type WebSocketOptions = Parameters<\n  SocketRpcClient<WebSocket>['request']\n>[0]\nexport type WebSocketReturnType = SocketRpcClient<WebSocket>\nexport type WebSocketErrorType = WebSocketRequestError | ErrorType\n\nfunction webSocket(\n  socketClient: SocketRpcClient<WebSocket>,\n  { body, onError, onResponse }: WebSocketOptions,\n): WebSocketReturnType {\n  socketClient.request({\n    body,\n    onError,\n    onResponse,\n  })\n  return socketClient\n}\n\nexport type WebSocketAsyncOptions = Parameters<\n  SocketRpcClient<WebSocket>['requestAsync']\n>[0]\nexport type WebSocketAsyncReturnType = RpcResponse\nexport type WebSocketAsyncErrorType =\n  | WebSocketErrorType\n  | TimeoutErrorType\n  | WithTimeoutErrorType\n  | ErrorType\n\nasync function webSocketAsync(\n  socketClient: SocketRpcClient<WebSocket>,\n  { body, timeout = 10_000 }: WebSocketAsyncOptions,\n): Promise<WebSocketAsyncReturnType> {\n  return socketClient.requestAsync({\n    body,\n    timeout,\n  })\n}\n\n/**\n * @deprecated use `getSocketClient` instead.\n *\n * ```diff\n * -import { getSocket } from 'viem/utils'\n * +import { getSocketClient } from 'viem/utils'\n *\n * -const socket = await getSocket(url)\n * +const socketClient = await getSocketClient(url)\n * +const socket = socketClient.socket\n * ```\n */\nexport async function getSocket(url: string) {\n  const client = await getWebSocketRpcClient(url)\n  return Object.assign(client.socket, {\n    requests: client.requests,\n    subscriptions: client.subscriptions,\n  })\n}\n\nexport const rpc = {\n  /**\n   * @deprecated use `getHttpRpcClient` instead.\n   *\n   * ```diff\n   * -import { rpc } from 'viem/utils'\n   * +import { getHttpRpcClient } from 'viem/utils'\n   *\n   * -rpc.http(url, params)\n   * +const httpClient = getHttpRpcClient(url)\n   * +httpClient.request(params)\n   * ```\n   */\n  http(url: string, params: HttpRequestParameters) {\n    return getHttpRpcClient(url).request(params)\n  },\n  /**\n   * @deprecated use `getWebSocketRpcClient` instead.\n   *\n   * ```diff\n   * -import { rpc } from 'viem/utils'\n   * +import { getWebSocketRpcClient } from 'viem/utils'\n   *\n   * -rpc.webSocket(url, params)\n   * +const webSocketClient = getWebSocketRpcClient(url)\n   * +webSocketClient.request(params)\n   * ```\n   */\n  webSocket,\n  /**\n   * @deprecated use `getWebSocketRpcClient` instead.\n   *\n   * ```diff\n   * -import { rpc } from 'viem/utils'\n   * +import { getWebSocketRpcClient } from 'viem/utils'\n   *\n   * -const response = await rpc.webSocketAsync(url, params)\n   * +const webSocketClient = getWebSocketRpcClient(url)\n   * +const response = await webSocketClient.requestAsync(params)\n   * ```\n   */\n  webSocketAsync,\n}\n/* c8 ignore end */\n"],"mappings":"AAAA;AACA;AAUA,SAAqCA,gBAAgB,QAAQ,WAAW;AAExE,SAASC,qBAAqB,QAAQ,gBAAgB;AAQtD,SAASC,SAASA,CAChBC,YAAwC,EAAAC,IAAA,EACO;EAAA,IAA/C;IAAEC,IAAI;IAAEC,OAAO;IAAEC;EAAU,CAAoB,GAAAH,IAAA;EAE/CD,YAAY,CAACK,OAAO,CAAC;IACnBH,IAAI;IACJC,OAAO;IACPC;GACD,CAAC;EACF,OAAOJ,YAAY;AACrB;AAYA,eAAeM,cAAcA,CAC3BN,YAAwC,EAAAO,KAAA,EACS;EAAA,IAAjD;IAAEL,IAAI;IAAEM,OAAO,GAAG;EAAM,CAAyB,GAAAD,KAAA;EAEjD,OAAOP,YAAY,CAACS,YAAY,CAAC;IAC/BP,IAAI;IACJM;GACD,CAAC;AACJ;AAEA;;;;;;;;;;;;AAYA,OAAO,eAAeE,SAASA,CAACC,GAAW;EACzC,MAAMC,MAAM,GAAG,MAAMd,qBAAqB,CAACa,GAAG,CAAC;EAC/C,OAAOE,MAAM,CAACC,MAAM,CAACF,MAAM,CAACG,MAAM,EAAE;IAClCC,QAAQ,EAAEJ,MAAM,CAACI,QAAQ;IACzBC,aAAa,EAAEL,MAAM,CAACK;GACvB,CAAC;AACJ;AAEA,OAAO,MAAMC,GAAG,GAAG;EACjB;;;;;;;;;;;;EAYAC,IAAIA,CAACR,GAAW,EAAES,MAA6B;IAC7C,OAAOvB,gBAAgB,CAACc,GAAG,CAAC,CAACN,OAAO,CAACe,MAAM,CAAC;EAC9C,CAAC;EACD;;;;;;;;;;;;EAYArB,SAAS;EACT;;;;;;;;;;;;EAYAO;CACD;AACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}